(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,a){e.exports=a.p+"static/media/ophelos_logo.d933d510.png"},30:function(e,t,a){e.exports=a(53)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(21),s=a.n(o),r=(a(35),a(8)),i=a(9),c=a(7),u=a(12),m=a(11),h=(a(36),a(16)),d=a(15),p=a.n(d),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).login=n.login.bind(Object(c.a)(n)),n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.state={email:"",password:"",flag:0},n}return Object(i.a)(a,[{key:"login",value:function(e){var t=this;e.preventDefault(),fetch("/api/flaskLogin",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(e){if(console.log(e.auth),!0!==e.auth)return t.setState({flag:2}),!1;localStorage.setItem("userData",JSON.stringify(e)),t.props.handleSuccessfulAuth(e),t.setState({flag:1})})).catch((function(e){t.setState({flag:2}),console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return l.a.createElement("header",{className:"App-header"},l.a.createElement("img",{src:p.a,className:"App-logo",alt:"ophelos_logo",style:{width:500,height:80,position:"inherit"}}),l.a.createElement("p",null,"Please Login."),l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("input",{className:"loginFields",type:"text",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange}),l.a.createElement("input",{className:"loginFields",type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleChange}),l.a.createElement("button",{className:"loginButton",onClick:this.login},"Login"),2===this.state.flag&&l.a.createElement("p",{style:{color:"red",fontSize:16}},"Your login credentials could not be verified, please try again."))))}}]),a}(n.Component),b=(a(37),a(13)),E=a(2),f=a(17),y=a.n(f),v=a(18),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).projectCards=function(){var e=n.state.history;return"FAILURE"===e.outcome?l.a.createElement("div",null,l.a.createElement("span",{style:{width:"500px",fontSize:"18px"}}," Nothing here yet, please complete a form.")):Object.keys(e).map((function(t){return l.a.createElement(v.a,{key:t,className:"infoCards"},l.a.createElement(v.a.Title,{style:{fontSize:"20px",textDecoration:"underline"}},t.split("|")[0]),l.a.createElement(v.a.Text,{style:{fontSize:"16px",display:"grid"}},l.a.createElement("span",null," Disposable Income: ",e[t].di," "),l.a.createElement("span",{style:{marginTop:"10px"}}," I&E Rating: ",e[t].ieRating," ")))}))},n.handleObjectChange=n.handleObjectChange.bind(Object(c.a)(n)),n.state={apiText:"",openModal:!1,openHistoryModal:!1,errorInInput:!1,user:{},history:{},dname:"",name:"",email:"",phone:"",dob:"",address:"",salary:"",other:"",mortgage:"",rent:"",utilities:"",travel:"",food:"",loans:"",creditCards:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.setAppElement("body"),this.setState({user:JSON.parse(localStorage.getItem("userData"))});var t=JSON.parse(localStorage.getItem("userData"));fetch("/api/getName",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t.email)}).then((function(e){return e.json()})).then((function(t){return e.setState({dname:t.dname})})).catch((function(e){console.log(e)}))}},{key:"getHistory",value:function(e){var t=this;fetch("/api/getHistory",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){t.setState({history:e})}))}},{key:"submit",value:function(e,t){console.log(t);if(!(e.name&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.email)&&e.phone&&e.dob&&e.address||t))return this.setState({errorInInput:!0}),!1;fetch("/api/sendForm",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(console.log(e),"OK"===e.statusText)return window.location.reload(),!0}))}},{key:"setNewReportCard",value:function(){var e=!this.state.openModal;this.setState({openModal:e})}},{key:"historyCard",value:function(){var e=!this.state.openHistoryModal;this.setState({openHistoryModal:e})}},{key:"logout",value:function(){localStorage.clear(),this.props.history.push("/"),window.location.reload()}},{key:"handleObjectChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"Home"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",{style:N},l.a.createElement(b.b,{to:"/Home",style:{color:"inherit",textDecoration:"inherit"}}," Home ")," |",l.a.createElement(b.b,{to:"/About",style:{color:"inherit",textDecoration:"inherit"}}," About")," |",l.a.createElement("button",{className:"logoutBtn",onClick:function(){return e.logout()}},"Logout")),l.a.createElement("img",{src:p.a,className:"App-logo",alt:"ophelos_logo",style:{width:500,height:80,position:"inherit"}}),l.a.createElement("p",null," ",this.state.dname?"Hello "+this.state.dname+", welcome to your income and expenditure app!":"Welcome, please start a new report to setup your profile"," "),l.a.createElement("div",null,l.a.createElement("button",{className:"classicButton",onClick:function(){e.getHistory(e.state),e.historyCard()}},"History"),l.a.createElement("button",{className:"classicButton",onClick:function(){return e.setNewReportCard()}},"New Report"))),l.a.createElement(y.a,{isOpen:this.state.openModal,onRequestClose:function(){return e.setNewReportCard()},shouldCloseOnOverlayClick:!1,style:O},l.a.createElement("header",null,l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.setNewReportCard()}},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")),l.a.createElement("h1",null,"New Report")),l.a.createElement("div",{className:"row"},l.a.createElement("form",null,this.state.dname?null:l.a.createElement("div",{className:"column"},l.a.createElement("h2",null,"Personal Info"),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Name",l.a.createElement("span",{style:{color:"red"}},"*")),l.a.createElement("input",{className:"inputData",type:"text",name:"name",value:this.state.name,onChange:this.handleObjectChange,required:!0})),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Email",l.a.createElement("span",{style:{color:"red"}},"*")),l.a.createElement("input",{className:"inputData",type:"email",name:"email",value:this.state.email,onChange:this.handleObjectChange,required:!0})),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Phone",l.a.createElement("span",{style:{color:"red"}},"*")),l.a.createElement("input",{className:"inputData",type:"tel",name:"phone",value:this.state.phone,onChange:this.handleObjectChange,required:!0})),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Date of Birth",l.a.createElement("span",{style:{color:"red"}},"*")),l.a.createElement("input",{className:"inputData",type:"date",name:"dob",value:this.state.dob,onChange:this.handleObjectChange,max:"2020-08-20",required:!0})),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Address",l.a.createElement("span",{style:{color:"red"}},"*")),l.a.createElement("input",{className:"inputData",type:"text",name:"address",value:this.state.address,onChange:this.handleObjectChange,required:!0}))),l.a.createElement("div",{className:"column"},l.a.createElement("h2",null,"Income"),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Salary "),l.a.createElement("input",{className:"inputData",type:"number",name:"salary",value:this.state.salary,onChange:this.handleObjectChange,min:"0"})),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Other  "),l.a.createElement("input",{className:"inputData",type:"number",name:"other",value:this.state.other,onChange:this.handleObjectChange,min:"0"})),l.a.createElement("h2",null,"Debt"),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Loans        "),l.a.createElement("input",{className:"inputData",type:"number",name:"loans",value:this.state.loans,onChange:this.handleObjectChange,min:"0"})),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Credit cards "),l.a.createElement("input",{className:"inputData",type:"number",name:"creditCards",value:this.state.creditCards,onChange:this.handleObjectChange,min:"0"}))),l.a.createElement("div",{className:"column"},l.a.createElement("h2",null,"Expenses"),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Mortgage  "),l.a.createElement("input",{className:"inputData",type:"number",name:"mortgage",value:this.state.mortgage,onChange:this.handleObjectChange,min:"0"})),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Rent      "),l.a.createElement("input",{className:"inputData",type:"number",name:"rent",value:this.state.rent,onChange:this.handleObjectChange,min:"0"})),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Utilities "),l.a.createElement("input",{className:"inputData",type:"number",name:"utilities",value:this.state.utilities,onChange:this.handleObjectChange,min:"0"})),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Travel    "),l.a.createElement("input",{className:"inputData",type:"number",name:"travel",value:this.state.travel,onChange:this.handleObjectChange,min:"0"})),l.a.createElement("div",{className:"inputItem"},l.a.createElement("label",null,"Food      "),l.a.createElement("input",{className:"inputData",type:"number",name:"food",value:this.state.food,onChange:this.handleObjectChange,min:"0"}))))),l.a.createElement("footer",null,this.state.errorInInput?l.a.createElement("span",{style:{color:"red",width:"100%",display:"inline-block"}}," One of the fields is wrong or empty, please enter the correct type of input."):null,l.a.createElement("div",null,l.a.createElement("button",{className:"loginButton",style:{float:"left"},onClick:function(){return e.setNewReportCard()}},"Close"),l.a.createElement("button",{className:"loginButton",style:{float:"right"},onClick:function(){return e.submit(e.state,e.state.dname)},type:"submit"},"Submit")))),l.a.createElement(y.a,{isOpen:this.state.openHistoryModal,onRequestClose:function(){return e.historyCard()},shouldCloseOnOverlayClick:!1,style:O},l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.historyCard()}},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")),this.projectCards(),l.a.createElement("button",{className:"loginButton",style:{float:"left"},onClick:function(){return e.historyCard()}},"Close")))}}]),a}(l.a.Component),N={fontSize:16,position:"absolute",top:10,right:30,color:"white",textDecoration:"none"},O={content:{maxHeight:"90%",overflow:"auto",color:"white",top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",background:"linear-gradient(118deg, #2b3a75 19%, #5586d8 79%)",borderRadius:"8px",border:"none",width:"fit-content",transition:"color 0.3s ease-in-out",padding:"20px 20px 20px 50px"}},j=Object(E.e)(C),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleSuccessfulAuth=n.handleSuccessfulAuth.bind(Object(c.a)(n)),n.state={user:{}},n}return Object(i.a)(a,[{key:"handleSuccessfulAuth",value:function(e){this.setState({user:e})}},{key:"componentDidMount",value:function(){this.setState({user:JSON.parse(localStorage.getItem("userData"))}),console.log(this.state.user)}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},this.state.user&&!0===this.state.user.auth?l.a.createElement(j,null):l.a.createElement(g,{handleSuccessfulAuth:this.handleSuccessfulAuth}))}}]),a}(l.a.Component),k=(a(52),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"About"},l.a.createElement("header",{className:"About-header"},l.a.createElement("h1",{style:w},l.a.createElement(b.b,{to:"/Home",style:{color:"inherit",textDecoration:"inherit"}}," Home ")),l.a.createElement(b.b,{to:"/Home"},l.a.createElement("img",{src:p.a,className:"App-logo",alt:"ophelos_logo"})),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("li",null,"The frontend is built using React.js"),l.a.createElement("li",null,"The backend is built using Python and running on a Flask server"),l.a.createElement("li",null,"The database is a firebase database"))))}}]),a}(l.a.Component)),w={fontSize:16,position:"absolute",top:10,right:30,color:"white",textDecoration:"none"},x=k;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b.a,null,l.a.createElement(E.a,{exact:!0,path:"/",component:S}),l.a.createElement(E.a,{exact:!0,path:"/Home",component:j}),l.a.createElement(E.a,{exact:!0,path:"/About",component:x}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.8923f0da.chunk.js.map